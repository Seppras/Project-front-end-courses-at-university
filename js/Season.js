(self.webpackChunklivechart=self.webpackChunklivechart||[]).push([[4482],{87757:function(e,t,n){e.exports=n(35666)},79724:function(e,t,n){"use strict";n(23787);var r=n(63472),i=n(98746),o=n(6599);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var h="ongoing",p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,i,o=u(f);function f(){return a(this,f),o.apply(this,arguments)}return t=f,(n=[{key:"save",value:function(){var e=this.selectTarget.value;window.Viewer.preferences.set(h,e),window.location.href=(0,r.nE)(window.location.href,h,e)}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.Qr);p.targets=["select"],i.wU.register("ongoing-filter-option",p);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,i,o=y(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"save",value:function(){var e=this.selectTarget.value,t=this.data.get("key")||"sortby";"true"===this.data.get("global")&&window.Viewer.preferences.set(t,e),window.location.href=(0,r.nE)(window.location.href,t,e)}}])&&v(t.prototype,n),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Qr);g.targets=["select"],i.wU.register("sorting-option",g);var k=n(71652);function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,i,o=j(a);function a(){return T(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"save",value:function(){var e=this.selectTarget.value,t=this.data.get("cookie-key"),n=this.data.get("key")||"layout";t&&k.ZP.set(t,e),window.location.href=(0,r.nE)(window.location.href,n,e)}}])&&O(t.prototype,n),i&&O(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Qr);S.targets=["select"],i.wU.register("layout-option",S)},7918:function(e,t,n){"use strict";var r,i;n.d(t,{k2:function(){return o},mk:function(){return r},n$:function(){return a},zW:function(){return i}}),function(e){e.Completed="completed",e.Watching="watching",e.Considering="considering",e.Skipping="skipping"}(r||(r={})),function(e){e.MarkedAnime="viewer.anime.marked"}(i||(i={}));var o="marks",a=new Set([r.Completed,r.Watching,r.Considering,r.Skipping])},3706:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(87757),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function s(){return c.apply(this,arguments)}function c(){return(c=a(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(9099),n.e(6564)]).then(n.bind(n,16551));case 2:return t=e.sent,r=t.default,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},56843:function(e,t){"use strict";t.Z=function(e,t,n){var r;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=this,c=function(){r=null,n||e.apply(s,o)};clearTimeout(r),r=setTimeout(c,t),n&&!r&&e.apply(s,o)}}},88990:function(e,t,n){"use strict";var r=n(98746);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a,s,c,u,f,l=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},h=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};t.Z=new(f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.add(this),a.set(this,void 0),s.set(this,void 0)}var t,n,r;return t=e,(n=[{key:"show",value:function(e){l(this,o,"a",u).dataset.markFilterModalScope=e,l(this,o,"a",c).open()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),a=new WeakMap,s=new WeakMap,o=new WeakSet,c=function(){return l(this,s,"f")||h(this,s,r.wU.getControllerForElementAndIdentifier(l(this,o,"a",u),"mark-filter-modal"),"f"),l(this,s,"f")},u=function(){return l(this,a,"f")||h(this,a,document.querySelector('[data-controller="mark-filter-modal"]'),"f"),l(this,a,"f")},f)},47240:function(e,t,n){"use strict";var r=n(98746),i=n(6599),o=n(56843),a=n(56391),s=n(98924),c=n(57684),u=n(54016),f=n(4183),l=n(42013),h=n(22614),p=n(88990),d=n(7918),v=n(38228),w=n(3706),y=(n(79724),function(e,t){var n=window.gtag;"undefined"!==typeof n&&n("event",e,{event_category:"related link",event_label:t})});function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b="search:query_changed",g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.term=t,this.termLowerCase=t.toLowerCase(),this.scope=n}var t,n,r;return t=e,r=[{key:"scopedKey",value:function(e){return"".concat(b,".").concat(e)}}],(n=[{key:"hasTerm",get:function(){return""!==this.term}},{key:"publish",value:function(){window.PubSub.publish(e.scopedKey(this.scope),this)}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}g.KEY=b;var T="search:cancellation_request",O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scope=t}var t,n,r;return t=e,r=[{key:"scopedKey",value:function(e){return"".concat(T,".").concat(e)}}],(n=[{key:"publish",value:function(){window.PubSub.publish(e.scopedKey(this.scope),this)}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();O.KEY=T;var P=n(13007),j=n(77962);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var x,Z,A,F,q,B,U,I,K,V,z,Q,N,Y,G,J,$,H,X,ee,te,ne,re,ie,oe,ae,se,ce,ue,fe,le,he,pe,de,ve,we=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},ye=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},me=window,be=me.PubSub,ge=me.Viewer,ke=new f.Z,Te=(0,P.Z)("mark_filters_scope"),Oe=null!==document.querySelector("script#mark_filters"),Pe="hidden-by-mark-filter",je=ge.markFilter(Te),Ee=new v.Z;!function(e){e.AnimeVisibilityChanged="anime-card-list:anime:visibility_changed",e.Search="anime-card-list:search"}(ve||(ve={}));var Me=function(e){_(n,e);var t=L(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),x.add(R(e)),e.performSearchDebounced=(0,o.Z)(e.performSearch.bind(R(e)),50),Z.set(R(e),new h.Z),e}return S(n,[{key:"connect",value:function(){var e=this,t=O.scopedKey(this.data.get("scope"));we(this,Z,"f").subscribe(t,(function(){e.inputTarget.value="",e.performSearch()}));window.addEventListener("DOMContentLoaded",(function t(){we(e,x,"m",A).call(e),window.removeEventListener("DOMContentLoaded",t)}))}},{key:"disconnect",value:function(){we(this,Z,"f").unsubscribeAll()}},{key:"performSearch",value:function(e){null===e||void 0===e||e.preventDefault();var t=new g(this.inputTarget.value,this.data.get("scope")),n=t.term,r=encodeURIComponent(n);t.publish(),window.history.replaceState({},document.title,"".concat(window.location.pathname).concat(window.location.search).concat(n?"#".concat(r):""))}},{key:"hideKeyboard",value:function(e){null===e||void 0===e||e.preventDefault(),this.inputTarget.blur()}}]),n}(i.Qr);Z=new WeakMap,x=new WeakSet,A=function(){var e=window.location.hash;e&&(this.inputTarget.value=decodeURIComponent(e.replace("#","")),this.performSearch())},Me.targets=["input"];var Se=function(e){_(n,e);var t=L(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),F.add(R(e)),q.set(R(e),new h.Z),B.set(R(e),(0,o.Z)(we(R(e),F,"m",I).bind(R(e)),50)),U.set(R(e),void 0),e}return S(n,[{key:"connect",value:function(){var e=this;we(this,q,"f").subscribe(ve.AnimeVisibilityChanged,(function(){we(e,B,"f").call(e)})),we(this,q,"f").subscribe(g.scopedKey(this.identifier),(function(t,n){e.performSearch(n)}))}},{key:"disconnect",value:function(){we(this,q,"f").unsubscribeAll()}},{key:"cardTargetDisconnected",value:function(){we(this,B,"f").call(this)}},{key:"performSearch",value:function(e){var t=this.searchMessageTarget.classList;ye(this,U,e.term,"f"),this.hasCardTarget&&e.hasTerm?(this.searchTermOutputTarget.textContent=e.term,t.remove("hide")):t.add("hide"),be.publish(ve.Search,e)}},{key:"cancelSearch",value:function(e){null===e||void 0===e||e.preventDefault(),new O(this.identifier).publish()}},{key:"doGlobalSearch",value:function(e){null===e||void 0===e||e.preventDefault(),we(this,U,"f")&&(window.location.href="/search?q=".concat(encodeURIComponent(we(this,U,"f"))))}},{key:"showMarkFilter",value:function(e){null===e||void 0===e||e.preventDefault(),p.Z.show(e.target.dataset.scope)}}]),n}(i.Qr);q=new WeakMap,B=new WeakMap,U=new WeakMap,F=new WeakSet,I=function(){var e=this.emptyMessageTarget.classList,t=!this.hasCardTarget;t?e.remove("hide"):e.add("hide"),this.hasMarkFilterButtonTarget&&(t&&!je.isEmpty()?this.markFilterButtonTarget.classList.remove("hide"):this.markFilterButtonTarget.classList.add("hide"))},Se.targets=["card","emptyMessage","searchMessage","searchTermOutput","markFilterButton"];var _e=function(e){_(n,e);var t=L(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),K.add(R(e)),V.set(R(e),void 0),z.set(R(e),void 0),Q.set(R(e),void 0),N.set(R(e),void 0),Y.set(R(e),void 0),G.set(R(e),void 0),J.set(R(e),void 0),$.set(R(e),new h.Z),H.set(R(e),!1),X.set(R(e),!1),ee.set(R(e),null),te.set(R(e),!1),ne.set(R(e),void 0),re.set(R(e),!1),ie.set(R(e),void 0),oe.set(R(e),e.application.ioUtil),ae.set(R(e),e.application.ioLazyLoader),e}return S(n,[{key:"connect",value:function(){var e=this;ye(this,X,!1,"f");var t=this.element.dataset,n=t.animeId,r=ge.library.statusOf(n);if(ye(this,V,n,"f"),we(this,K,"m",ue).call(this,r),!we(this,X,"f")){if(ye(this,Q,t.romaji,"f"),ye(this,N,t.english,"f"),ye(this,Y,t.native,"f"),this.hasCountdownTarget){var i=this.countdownTarget;ye(this,ne,ke.addElement(i,i.dataset.label),"f")}we(this,ae,"f").observe(this.posterTarget),we(this,$,"f").subscribe(ve.Search,(function(t,n){!n.termLowerCase||we(e,K,"m",pe).call(e,n.termLowerCase)?we(e,K,"m",he).call(e):we(e,K,"m",le).call(e)})),ye(this,H,!0,"f"),we(this,oe,"f").observe(this.element,(function(t){return!!t.isIntersecting&&(we(e,K,"m",se).call(e,n,r),!0)}))}}},{key:"disconnect",value:function(){ye(this,X,!0,"f"),we(this,H,"f")&&(we(this,$,"f").unsubscribeAll(),we(this,ne,"f")&&(ke.remove(we(this,ne,"f")),ye(this,ne,null,"f")),we(this,ae,"f").unobserve(this.posterTarget),we(this,oe,"f").unobserve(this.element))}},{key:"userPreferredTitle",get:function(){return we(this,z,"f")||ye(this,z,this.mainTitleTarget.textContent,"f"),we(this,z,"f")}},{key:"alternateTitles",get:function(){if(!we(this,G,"f")){var e=this.element.dataset;ye(this,G,JSON.parse(e.alternate),"f")}return we(this,G,"f")}},{key:"showVideos",value:function(e){null===e||void 0===e||e.preventDefault(),s.Z.show(we(this,V,"f"),this.userPreferredTitle)}},{key:"showStreams",value:function(e){null===e||void 0===e||e.preventDefault(),a.Z.show(we(this,V,"f"),this.userPreferredTitle)}},{key:"showLinks",value:function(e){null===e||void 0===e||e.preventDefault(),c.Z.show(we(this,V,"f"),this.userPreferredTitle)}},{key:"showLibraryEditor",value:function(e){null===e||void 0===e||e.preventDefault(),u.Z.show(we(this,V,"f"),this.userPreferredTitle)}},{key:"showLibraryInput",value:function(e){null===e||void 0===e||e.preventDefault();var t=we(this,V,"f");this.marksMenuTarget.classList.contains("-open")?this.hideMarkMenu():ge.library.has(t)?u.Z.show(t,this.userPreferredTitle):this.showMarkMenu()}},{key:"hideMarkMenu",value:function(e){e&&"mouseout"!==e.type&&this.element.contains(e.target)||(this.marksMenuTarget.classList.remove("-open"),we(this,ie,"f")&&(ye(this,ie,null,"f"),window.removeEventListener("scroll",we(this,ie,"f")),window.removeEventListener("click",we(this,ie,"f"))))}},{key:"showMarkMenu",value:function(e){we(this,ie,"f")||(ye(this,ie,this.hideMarkMenu.bind(this),"f"),window.addEventListener("scroll",we(this,ie,"f")),window.addEventListener("click",we(this,ie,"f"))),this.marksMenuTarget.classList.add("-open")}},{key:"showPremiereDateTime",value:function(e){null===e||void 0===e||e.preventDefault();var t=this.element.dataset;+t.premierePrecision>=4&&(0,l.AA)(t.premiere,"".concat(this.userPreferredTitle," Premiere"))}},{key:"showEpisodeTime",value:function(e){if(null===e||void 0===e||e.preventDefault(),this.hasCountdownTarget){var t=this.countdownTarget.dataset,n=[this.userPreferredTitle],r=t.label;r&&n.push("(".concat(r,")")),(0,l.AA)(t.timestamp,n.join(" "))}}},{key:"revealSynopsis",value:function(){we(this,te,"f")||(ye(this,te,!0,"f"),this.hasSynopsisSpoilerWarningTarget&&this.synopsisSpoilerWarningTarget.remove(),this.hasSynopsisTarget&&this.synopsisTarget.classList.remove("is-spoiler-masked"))}},{key:"setLibraryStatus",value:function(e){var t=ge.library.toggleStatusOf(we(this,V,"f"),e.target.dataset.libraryStatus);we(this,K,"m",ue).call(this,t),this.hideMarkMenu()}}]),n}(i.Qr);V=new WeakMap,z=new WeakMap,Q=new WeakMap,N=new WeakMap,Y=new WeakMap,G=new WeakMap,J=new WeakMap,$=new WeakMap,H=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap,ae=new WeakMap,K=new WeakSet,se=function(e,t){var r=this;if(!we(this,re,"f")){ye(this,re,!0,"f");var i=ge.library.animeMarkedPubSubKey(e);we(this,$,"f").subscribe(i,(function(e,t){we(r,K,"m",ue).call(r,t.status)})),this.element.querySelector('[data-controller="mark-icon"]')||n.e(8515).then(n.t.bind(n,46033,17)).then((function(e){var n=e.default;return Ee.getCompiled("anime_card_marks",n,{status:t})})).then((function(e){r.element.querySelector(".anime-card").prepend(e)}))}},ce=function(){return{animeId:we(this,V,"f"),element:this.element}},ue=function(e){var t=this.element,n=t.querySelector('[data-controller="mark-icon"]');if((0,j.i)(t,e),n&&(n.dataset.markIconViewerStatusValue=e),Oe){var r=t.classList;je.isLibraryStatusFiltered(e)?we(this,H,"f")?r.add(Pe):we(this,K,"m",fe).call(this):r.contains(Pe)&&r.remove(Pe)}we(this,X,"f")||e!==d.mk.Watching&&e!==d.mk.Completed||we(this,te,"f")||!ge.preferences.revealSpoilers||this.revealSynopsis()},fe=function(){ye(this,X,!0,"f"),this.element.remove()},le=function(){!1!==we(this,ee,"f")&&(ye(this,ee,!1,"f"),this.element.classList.add("hide"),be.publish(ve.AnimeVisibilityChanged,we(this,K,"a",ce)))},he=function(){!0!==we(this,ee,"f")&&(ye(this,ee,!0,"f"),this.element.classList.remove("hide"),be.publish(ve.AnimeVisibilityChanged,we(this,K,"a",ce)))},pe=function(e){return we(this,K,"a",de).includes(e)},de=function(){if(!we(this,J,"f")){var e=[we(this,Q,"f"),we(this,N,"f"),we(this,Y,"f"),this.alternateTitles];this.studioLinkTargets.forEach((function(t){e.push(t.textContent)})),ye(this,J,e.join(";;").toLowerCase(),"f")}return we(this,J,"f")},_e.targets=["studioLink","mainTitle","countdown","poster","synopsis","synopsisSpoilerWarning","marksMenu"],r.wU.register("page-search",Me),r.wU.register("anime-card-list",Se),r.wU.register("anime-card",_e);var Ce=window.gtag,Le="undefined"!==typeof Ce;if(Le){var We={"website-icon":"website","preview-icon":"preview","mal-icon":"mal","anilist-icon":"anilist","anime-planet-icon":"anime_planet","anidb-icon":"anidb","anisearch-icon":"anisearch","ann-icon":"anime_news_network","kitsu-icon":"kitsu","crunchyroll-icon":"crunchyroll","twitter-icon":"twitter","watch-icon":"streaming"};document.addEventListener("mouseup",(function(e){var t=e.target;if(t.matches(".related-links a")){var n=We[t.getAttribute("class")];n&&y(n,t.href)}}))}document.addEventListener("click",(function(e){var t=e.target;t.matches(".preference-bar-mark-filter-button")?(e.preventDefault(),p.Z.show(t.dataset.scope)):Le&&t.matches(".stream-link")&&Ce("event",t.textContent,{event_category:"related link",event_label:t.href})})),setTimeout((function(){(0,w.Z)().then((function(e){return e.showIfNeccessary()}))}),5e3)},4149:function(e,t,n){var r;!function(t){"use strict";var i=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t),i("initialized",e)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(c.bind(null,e)),i("flush scheduled"))}function c(e){i("flush");var t,n=e.writes,r=e.reads;try{i("flushing reads",r.length),e.runTasks(r),i("flushing writes",n.length),e.runTasks(n)}catch(o){t=o}if(e.scheduled=!1,(r.length||n.length)&&s(e),t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}function u(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(i("run tasks");t=e.shift();)t()},measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return i("clear",e),u(this.reads,e)||u(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var f=t.fastdom=t.fastdom||new a;void 0===(r=function(){return f}.call(f,n,f,e))||(e.exports=r)}("undefined"!==typeof window?window:this)}},function(e){e.O(0,[4482],(function(){e.E(7792)}),5);e.O(0,[8365,7265,9632,5666,4364,1904,9307,4688],(function(){return t=47240,e(e.s=t);var t}));e.O()}]);